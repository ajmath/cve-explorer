import React from "react";
import { shallow } from "enzyme";
import { CveCard } from "./CveCard";
import { CveInfoFragment } from "../../gql-gen";
import { Typography } from "@material-ui/core";

describe("cve card", () => {
  const cve: CveInfoFragment = {
    id: "CVE-TEST-123",
    description: "This is the description of this fake CVE",
    affectedPackages: [],
    references: [],
  };

  it("renders a cve", () => {
    const wrapper = shallow(<CveCard cve={cve} />);
    expect(wrapper).toContainReact(<Typography variant="subtitle1">{cve.id}</Typography>);
    expect(wrapper).toContainReact(<Typography variant="body2">{cve.description}</Typography>);
  });
});
